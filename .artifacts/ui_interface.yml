- type: Frontend
  id: UI-HomePage
  description: 应用首页组件，作为应用启动时的默认页面，包含登录和注册入口。
  properties:
    - name: onNavigateToLogin
      type: function
      description: "导航到登录页面的回调函数。"
    - name: onNavigateToRegister
      type: function
      description: "导航到注册页面的回调函数。"
  state:
    - none
  dependencies:
    - none
  acceptanceCriteria:
    - 应用启动时默认展示此页面。
    - 页面包含"亲，请登录"按钮，点击后导航到登录页面。
    - 页面包含"免费注册"按钮，点击后导航到注册页面。
    - 页面设计应简洁美观，符合淘贝品牌风格。
  changeLog:
    - date: "2025-01-20"
      description: "初始创建，支持应用启动时默认展示首页功能。"

- type: Frontend
  id: UI-LoginPage
  description: 完整的用户登录页面，包含所有登录相关的UI元素和交互逻辑。
  properties:
    - name: onLoginSuccess
      type: function
      description: "登录成功后的回调函数，用于页面跳转。"
    - name: onNavigateToRegister
      type: function
      description: "导航到注册页面的回调函数。"
    - name: onNavigateToHome
      type: function
      description: "返回首页的回调函数。"
  state:
    - phoneNumber
    - verificationCode
    - error
    - isLoading
    - countdown
    - canRequestCode
  dependencies:
    - API-POST-SendVerificationCode
    - API-POST-Login
    - UI-PhoneInput
    - UI-VerificationCodeInput
    - UI-CountdownButton
  acceptanceCriteria:
    - 页面包含手机号输入框、验证码输入框、获取验证码按钮和登录按钮。
    - 页面包含"返回首页"按钮，点击后清空输入信息并返回首页。
    - 实现手机号格式实时校验。
    - 获取验证码按钮点击后进入60秒倒计时状态。
    - 显示适当的错误提示信息。
    - 登录成功后调用onLoginSuccess回调。
    - 当提示"该手机号未注册"时，提供注册入口。
  changeLog:
    - date: "2025-10-13"
      description: "初始创建。"
    - date: "2025-01-20"
      description: "添加返回首页功能，支持用户在未登录时直接返回首页。"

- type: Frontend
  id: UI-PhoneInput
  description: 手机号输入组件，包含格式校验和错误提示。
  properties:
    - name: value
      type: string
      description: "当前手机号值。"
    - name: onChange
      type: function
      description: "手机号变化时的回调函数。"
    - name: onValidationChange
      type: function
      description: "校验状态变化时的回调函数。"
    - name: disabled
      type: boolean
      description: "是否禁用输入框。"
  state:
    - isValid
    - errorMessage
  dependencies:
    - none
  acceptanceCriteria:
    - 输入框只允许输入数字。
    - 实时校验手机号格式（11位数字，1开头）。
    - 显示格式错误提示："请输入正确的手机号码"。
    - 支持禁用状态。
  changeLog:
    - date: "2025-10-13"
      description: "初始创建。"

- type: Frontend
  id: UI-VerificationCodeInput
  description: 验证码输入组件，支持6位数字输入。
  properties:
    - name: value
      type: string
      description: "当前验证码值。"
    - name: onChange
      type: function
      description: "验证码变化时的回调函数。"
    - name: disabled
      type: boolean
      description: "是否禁用输入框。"
  state:
    - none
  dependencies:
    - none
  acceptanceCriteria:
    - 输入框只允许输入数字。
    - 最大长度为6位。
    - 支持禁用状态。
  changeLog:
    - date: "2025-10-13"
      description: "初始创建。"

- type: Frontend
  id: UI-CountdownButton
  description: 带倒计时功能的获取验证码按钮。
  properties:
    - name: onClick
      type: function
      description: "按钮点击时的回调函数。"
    - name: disabled
      type: boolean
      description: "是否禁用按钮。"
    - name: countdown
      type: number
      description: "倒计时秒数，0表示可以点击。"
  state:
    - isCountingDown
    - remainingTime
  dependencies:
    - none
  acceptanceCriteria:
    - 默认显示"获取验证码"文本。
    - 点击后开始60秒倒计时，显示"重新发送(XX)"。
    - 倒计时期间按钮不可点击。
    - 倒计时结束后恢复可点击状态。
  changeLog:
    - date: "2025-10-13"
      description: "初始创建。"

- type: Frontend
  id: UI-LoginButton
  description: 登录提交按钮，处理加载状态和禁用逻辑。
  properties:
    - name: onClick
      type: function
      description: "按钮点击时的回调函数。"
    - name: disabled
      type: boolean
      description: "是否禁用按钮。"
    - name: loading
      type: boolean
      description: "是否显示加载状态。"
  state:
    - none
  dependencies:
    - none
  acceptanceCriteria:
    - 默认显示"登录"文本。
    - 加载状态时显示加载指示器和"登录中..."文本。
    - 支持禁用状态。
  changeLog:
    - date: "2025-10-13"
      description: "初始创建。"

- type: Frontend
  id: UI-RegisterPage
  description: 完整的用户注册页面，包含所有注册相关的UI元素和交互逻辑。
  properties:
    - name: onRegisterSuccess
      type: function
      description: "注册成功后的回调函数，用于页面跳转。"
    - name: onNavigateToLogin
      type: function
      description: "导航到登录页面的回调函数。"
    - name: onNavigateToHome
      type: function
      description: "返回首页的回调函数。"
  state:
    - phoneNumber
    - verificationCode
    - agreeToTerms
    - error
    - isLoading
    - countdown
    - canRequestCode
  dependencies:
    - API-POST-SendVerificationCode
    - API-POST-Register
    - UI-PhoneInput
    - UI-VerificationCodeInput
    - UI-CountdownButton
    - UI-AgreementCheckbox
    - UI-RegisterButton
  acceptanceCriteria:
    - 页面包含手机号输入框、验证码输入框、获取验证码按钮、用户协议勾选框和注册按钮。
    - 页面包含"返回首页"按钮，点击后清空输入信息、重置协议状态并返回首页。
    - 实现手机号格式实时校验。
    - 获取验证码按钮点击后进入60秒倒计时状态。
    - 未勾选用户协议时，注册按钮不可点击。
    - 勾选用户协议后，注册按钮变为可点击状态。
    - 显示适当的错误提示信息。
    - 注册成功后调用onRegisterSuccess回调。
    - 当手机号已注册时，自动登录并跳转。
  changeLog:
    - date: "2025-01-20"
      description: "初始创建，支持用户注册功能。"
    - date: "2025-01-20"
      description: "添加返回首页功能，支持用户在未注册时直接返回首页。"

- type: Frontend
  id: UI-AgreementCheckbox
  description: 用户协议勾选框组件，包含协议链接。
  properties:
    - name: checked
      type: boolean
      description: "是否已勾选。"
    - name: onChange
      type: function
      description: "勾选状态变化时的回调函数。"
    - name: disabled
      type: boolean
      description: "是否禁用勾选框。"
  state:
    - none
  dependencies:
    - none
  acceptanceCriteria:
    - 显示"同意《淘贝用户协议》"文本和勾选框。
    - 《淘贝用户协议》文本应为可点击链接。
    - 支持禁用状态。
    - 勾选状态变化时触发onChange回调。
  changeLog:
    - date: "2025-01-20"
      description: "初始创建，支持用户注册功能。"

- type: Frontend
  id: UI-RegisterButton
  description: 注册提交按钮，处理加载状态和禁用逻辑。
  properties:
    - name: onClick
      type: function
      description: "按钮点击时的回调函数。"
    - name: disabled
      type: boolean
      description: "是否禁用按钮。"
    - name: loading
      type: boolean
      description: "是否显示加载状态。"
  state:
    - none
  dependencies:
    - none
  acceptanceCriteria:
    - 默认显示"注册"文本。
    - 加载状态时显示加载指示器和"注册中..."文本。
    - 支持禁用状态。
    - 未同意用户协议时按钮应为禁用状态。
  changeLog:
    - date: "2025-01-20"
      description: "初始创建，支持用户注册功能。"

- type: Frontend
  id: UI-BackToHomeButton
  description: 返回首页按钮组件，用于登录和注册页面。
  properties:
    - name: onClick
      type: function
      description: "按钮点击时的回调函数。"
    - name: disabled
      type: boolean
      description: "是否禁用按钮。"
  state:
    - none
  dependencies:
    - none
  acceptanceCriteria:
    - 显示"返回首页"文本。
    - 点击后触发onClick回调。
    - 支持禁用状态。
    - 按钮样式应与页面整体设计保持一致。
  changeLog:
    - date: "2025-01-20"
      description: "初始创建，支持从登录和注册页面返回首页功能。"